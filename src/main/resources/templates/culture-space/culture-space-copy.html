<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>슬라이드  test</title>
    <link rel="stylesheet" href="../../static/css/culture-space/culture-space.css">
</head>
<style>

 .img {
      position: absolute;
      width:438px;
      height:288px;
      -webkit-transition: opacity 1s ease-in-out;
      -moz-transition: opacity 1s ease-in-out;
      -o-transition: opacity 1s ease-in-out;
      transition: opacity 1s ease-in-out;
      opacity: 0;
      -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
      filter: alpha(opacity=0);
    }

    .img:first-child {
      /* display: block; */
      opacity: 1;
    }

    #wrap {
      padding: 20px;
    }

    div {
      margin: 5px 0px
    }
/* 슬라이드 버튼 끝 */
</style>
<body>

    <div id=wrap>
        <div>
          <!-- 버튼을 실행시 이전, 다음으로 움직이다 -->
          <!-- <button class="arrow-btn prev-btn">이전</button> -->
          <button class="prev">이전</button>
          <img class="arrow-btn next-btn" src="../../static/images/culture-space/map-icon1.png">
          <!-- <button class="slider__arrow slider__arrow--right"> 다음</button> -->
        </div>
        <!-- 움직일 이미지들 -->
        <div class="culture-space-photo-container imgBox" style="width:438;height:228px;">
          <!-- free url 사진 -->
          <img class="img photo-instance" src="https://static.wadiz.kr/main/media/bg-success-story-hyundai-01.9e04d8a1.png" alt="">
            <div class="space-info">
              <div class="space-name"><strong>세종대왕기념관</strong></div>
              <div class="space-address">서울시 동대문구 청량리동 1-157</div>
              <div class="space-tel">02-969-8851</div>
              <div class="space-introduction">고세종대왕의 성덕과 위업을 추모하고 보존하기 위해 1970년 세종대왕기념사업회에서 준공하였다.</div>
            </div><!-- space-info -->
          <div id="map2" class="map-loca img"></div>
        </div>
      </div>

</body>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=3366aee711925269dca27f42bfb64ad1"></script>
<script>

$(function() {

  $('.culture-space-photo-container').mouseover(function(e){
      $(this).find(".photo-instance").css("opacity", "0.1"); //사진 투명도 조절
      $(this).find('.next-btn').show(); //우측 지도 버튼
      $(this).find('.prev').show(); //좌측 화살표
      $(this).find('.space-info').css({left: '-30%'}); //공간 정보 노출 애니메이션
      $(this).find('.space-info').animate({left:'0px'}, {duration: 700});
      $(this).find('.space-info').css("opacity", "1");
      $(this).find('.space-info').show();
  });

  $('.culture-space-photo-container').mouseout(function(e){
      $(this).find('.photo-instance').css("opacity", "1");
      $(this).find('.next-btn').hide();
      $(this).find('.prev').hide();
      $(this).find('.space-info').css({left: '-20%'});
      $(this).find('.space-info').hide();
  });


// /* 세종대왕박물관 */
var mapContainer2 = document.getElementById('map2'), // 지도를 표시할 div 
    mapOption = { 
        center: new kakao.maps.LatLng(37.5909928893989, 127.042703170101), // 지도의 중심좌표
        level: 3 // 지도의 확대 레벨
    };

// 지도를 표시할 div와  지도 옵션으로  지도를 생성합니다
var map2 = new kakao.maps.Map(mapContainer2, mapOption); 
var markerPosition2  = new kakao.maps.LatLng(37.5909928893989, 127.042703170101); 
var marker2 = new kakao.maps.Marker({
    position: markerPosition2
});
marker2.setMap(map2);

var mapContainer3 = document.getElementById('map3'), // 지도를 표시할 div 
    mapOption3 = { 
        center: new kakao.maps.LatLng(37.5507568507373, 126.982753574242), // 지도의 중심좌표
        level: 3 // 지도의 확대 레벨
    };

$(".prev").on("click", function (e) {
    console.log("들어옴");
      e.preventDefault();

      // 이미지 현재의 위치
      var imgOn = $(".imgBox").find(".on").index();
      // 이미지 총 개수 
      var imgLen = $(".imgBox .img").length;
      console.log(imgOn)
      
      // imgBox안의 img 중 imgOn 번째의 on 클래스 삭제 
      $(".culture-space-photo-container .img").eq(imgOn).removeClass("on");
      // imgBox안의 img 중 imgOn 번째 숨기기 
      $(".culture-space-photo-container .img").eq(imgOn).css("opacity", 0);
      
      //  이전의 위치로 돌아가야함으로
      imgOn = imgOn -1;

      if( imgOn < 0 ){
        // 돌아가 위치가 -1일 경우 
        // 이미지의 마지막으로 돌아간다
        $("culture-space-photo-container .img").eq(imgLen -1).css("opacity", 1);
        $(".culture-space-photo-container .img").eq(imgLen -1).addClass("on");
      }else{
        // 돌아갈 위치가 -1이 아닌 경우
        $(".culture-space-photo-container .img").eq(imgOn).css("opacity", 1);
        $(".culture-space-photo-container .img").eq(imgOn).addClass("on");
      }

    });

    $(".next-btn").on("click", function (e) {
        console.log("오른쪽 들어옴");
      e.preventDefault();
      // 위에 동일 
      var imgOn = $(".culture-space-photo-container").find(".on").index();
      var imgLen = $(".culture-space-photo-container .img").length;

      // 위에 동일
      $(".culture-space-photo-container .img").eq(imgOn).removeClass("on");
      $(".culture-space-photo-container .img").eq(imgOn).css("opacity", 0);
      
      // 다음의 위치로 알아야 되기 때문에 
      imgOn = imgOn + 1;
      
      if( imgOn === imgLen ){
        // 다음의 위치가 총 개수보다 클 경우
        // 처음의 위치로 돌아간다
        $(".culture-space-photo-container .img").eq(0).css("opacity", 1);
        $(".culture-space-photo-container .img").eq(0).addClass("on");
      }else{
        // 다음 위치가 있는 경우 
        $(".culture-space-photo-container .img").eq(imgOn).css("opacity", 1);
        $(".culture-space-photo-container .img").eq(imgOn).addClass("on");
      }
    });
});

</script>
</html>