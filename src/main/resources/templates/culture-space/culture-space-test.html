<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>문화 공간</title>
    <link rel="stylesheet" href="../../static/css/culture-space/culture-space.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">  
    <link rel="shortcut icon" href="/static/images/components/dodam-favicon.png">
    <style>
        .background {
            opacity: 0.2;
            width: 350px;
            height: 350px;
            border-radius: 10px;
        }

        .culture-space-instance {
            float: left;
            margin-right: 10px;

        }

        .instance {
            display: flex;
            justify-content: space-between;
            position: relative;
            width: 350px;
            height: 350px;
            margin-bottom: 10px;
        }

        .space-name {
            position: absolute;
            top: 13%;
            left: 3%;
            text-align: center;
            font-size: 24px;
            font-family: 'Noto Sans KR';
            font-weight: 700;
        }

        .mouseover {
            position: absolute;
            font-size: 14px;
            top: 83%;
            left: 3%;
        }

        .photo-img {
            width: 100px;
            height: 80px;
        }

        .space-info {
            position: absolute;
            top: 35%;
            left: 6%;
        }

        .space-text-info {
            display: inline-block;
            text-align: left;
            margin-left: 20px;
            left: 0%;
            font-size: 12px;
        }


        .arrow-button {
            cursor: pointer;
            position: absolute;
            top: 40%;

        }

        .prev {
            /* opacity: 0.5;
            cursor: pointer;
            z-index: 9999; */

            opacity: 0.5;
            cursor: pointer;
            z-index: 9999;
            position: absolute;
            top: 50%;
            left: 0%;
        }

        .next {
            margin-left: 270px;
            top: 35%;
            display: none;
        }

        .img {
            position: absolute;
            opacity: 0;
        }


        .img:first-child {
            display: block;
            opacity: 1;
        }

        .map {
            width: 350px;
            height: 350px;
        }
    </style>
</head>

<body>
    <div id="page-container">
        <main id="main-app">
            <div class="main-wrapper-content">
                <div class="culture-space-container">
                    <section>
                        <div class="culture-inner">
                            <div>
                                <h3 class="culture-space-title">문화공간 소개</h3>
                            </div>
                            <div class="culture-space-content-container">
                                <strong class="culture-space-content">
                                    <span>누구나 이용 가능한 서울의 문화공간을 소개합니다.</span>
                                </strong>

                                <div class="culture-space-instance">
                                    <div class="instance imgBox">
                                        <div class="culture-space img on">
                                            <img class="background"
                                                src="https://culture.seoul.go.kr/cmmn/file/getImage.do?atchFileId=04ae3506f18f4fb39a8553095364f973&thumb=Y">
                                            <div class="space-info">
                                                <img class="photo-img"
                                                    src="https://culture.seoul.go.kr/cmmn/file/getImage.do?atchFileId=04ae3506f18f4fb39a8553095364f973&thumb=Y">
                                                <div class="space-text-info">
                                                    <div class="space-name-small">
                                                        <span><strong>DDP(동대문디자인플라자)</strong></span>
                                                    </div>
                                                    <div class="space-name-category"><span></span></div>
                                                    <div class="space-address"><span>서울특별시 중구 을지로 281</span></div>
                                                    <div class="space-tel"><span>02-2153-0000</span></div>
                                                    <div class="space-web"><span>http://www.ddp.or.kr/main</span></div>
                                                </div>
                                                <div class="arrow-button">

                                                    <img class="next" src="../../static/images/culture-space/map-icon1.png" style="width: 20px; height: 20px;">
                                                </div>
                                            </div><!-- space info -->
                                        </div>

                                        <div class="img">
                                            <img class="prev" src="../../static/images/">
                                            <img src="wirte.png">
                                        </div>
                                    </div><!-- instance -->
                                </div>

                                <div class="culture-space-instance">
                                    <div class="instance imgBox">
                                        <div class="culture-space img on">
                                            <img class="background"
                                                src="https://culture.seoul.go.kr/cmmn/file/getImage.do?atchFileId=04ae3506f18f4fb39a8553095364f973&thumb=Y">
                                            <div class="space-info">
                                                <img class="photo-img"
                                                    src="https://culture.seoul.go.kr/cmmn/file/getImage.do?atchFileId=04ae3506f18f4fb39a8553095364f973&thumb=Y">
                                                <div class="space-text-info">
                                                    <div class="space-name-small">
                                                        <span><strong>DDP(동대문디자인플라자)</strong></span>
                                                    </div>
                                                    <div class="space-name-category"><span></span></div>
                                                    <div class="space-address"><span>서울특별시 중구 을지로 281</span></div>
                                                    <div class="space-tel"><span>02-2153-0000</span></div>
                                                    <div class="space-web"><span>http://www.ddp.or.kr/main</span></div>
                                                </div>
                                                <div class="arrow-button">

                                                    <img class="next" src="map.png" style="width: 20px; height: 20px;">
                                                </div>
                                            </div><!-- space info -->
                                        </div>

                                        <div class="img">
                                            <img class="prev" src="left.png">
                                            <img src="wirte.png">
                                        </div>
                                    </div><!-- instance -->
                                </div>

                                <div class="culture-space-instance">
                                    <div class="instance imgBox">
                                        <div class="culture-space img on">
                                            <img class="background"
                                                src="https://culture.seoul.go.kr/cmmn/file/getImage.do?atchFileId=04ae3506f18f4fb39a8553095364f973&thumb=Y">
                                            <div class="space-info">
                                                <img class="photo-img"
                                                    src="https://culture.seoul.go.kr/cmmn/file/getImage.do?atchFileId=04ae3506f18f4fb39a8553095364f973&thumb=Y">
                                                <div class="space-text-info">
                                                    <div class="space-name-small">
                                                        <span><strong>DDP(동대문디자인플라자)</strong></span>
                                                    </div>
                                                    <div class="space-name-category"><span></span></div>
                                                    <div class="space-address"><span>서울특별시 중구 을지로 281</span></div>
                                                    <div class="space-tel"><span>02-2153-0000</span></div>
                                                    <div class="space-web"><span>http://www.ddp.or.kr/main</span></div>
                                                </div>
                                                <div class="arrow-button">

                                                    <img class="next" src="map.png" style="width: 20px; height: 20px;">
                                                </div>
                                            </div><!-- space info -->
                                        </div>

                                        <div class="img">
                                            <img class="prev" src="left.png">
                                            <img src="wirte.png">
                                        </div>
                                    </div><!-- instance -->
                                </div>

                                <div class="culture-space-instance">
                                    <div class="instance imgBox">
                                        <div class="culture-space img on">
                                            <img class="background"
                                                src="https://culture.seoul.go.kr/cmmn/file/getImage.do?atchFileId=04ae3506f18f4fb39a8553095364f973&thumb=Y">
                                            <div class="space-info">
                                                <img class="photo-img"
                                                    src="https://culture.seoul.go.kr/cmmn/file/getImage.do?atchFileId=04ae3506f18f4fb39a8553095364f973&thumb=Y">
                                                <div class="space-text-info">
                                                    <div class="space-name-small">
                                                        <span><strong>DDP(동대문디자인플라자)</strong></span>
                                                    </div>
                                                    <div class="space-name-category"><span></span></div>
                                                    <div class="space-address"><span>서울특별시 중구 을지로 281</span></div>
                                                    <div class="space-tel"><span>02-2153-0000</span></div>
                                                    <div class="space-web"><span>http://www.ddp.or.kr/main</span></div>
                                                </div>
                                                <div class="arrow-button">
                                                    <img class="next" src="map.png" style="width: 20px; height: 20px;">
                                                </div>
                                            </div><!-- space info -->
                                        </div>
                                        <div class="img">
                                            <img class="prev" src="left.png">
                                            <img src="wirte.png">
                                        </div>
                                    </div><!-- instance -->
                                </div>

                                <div id="map2" style="width:100%;height:228px;"></div>
                                <div id="map3" style="width:100%;height:228px;"></div>
                                <div id="map4" style="width:100%;height:228px;"></div>

                            </div><!-- culture-inner -->
                    </section>
                </div>
            </div>
        </main>
    </div> <!-- page container -->
</body>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=3366aee711925269dca27f42bfb64ad1"></script>
<script>
    /* 마우스오버 - 문화 공간 정보 노출 */
    $(function () {
        $('.culture-space').mouseover(function (e) {
            // console.log($(this).find('.next'));
            $(this).find('.next').show(); //우측 지도 버튼 
        });
    });
    /* 마우스 아웃 */
    $('.culture-space').mouseout(function (e) {
        $(this).find('.photo-instance').css("opacity", "1");
        $(this).find('.space-name').show();
        $(this).find('.mouseover').show();
        $(this).find('.next').hide();
    });

    const $container = document.querySelectorAll('.culture-space-content-container .culture-space-instance');
    console.log($container);

    const $nextBtn = document.querySelectorAll('.next'); // NodeList
    console.log($nextBtn);

    $nextBtn.forEach((element) => {
        element.addEventListener('click', function (e) {
            const $hideTarget = e.target.parentNode.parentNode;
            console.log($hideTarget)

            const $showTarget = e.target.parentNode.parentNode.parentNode.nextElementSibling;
            console.log($showTarget);

            $hideTarget.style.opacity = 0;
            $showTarget.style.opacity = 1;
        })
    });

    const $prevBtn = document.querySelectorAll('.prev');

    $prevBtn.forEach((element) => {
        element.addEventListener('click', function (e) {
            const $hideTarget = e.target.parentNode;
            console.log($hideTarget)

            const $showTarget = e.target.parentNode.previousElementSibling.children[1];
            console.log($showTarget);

            $hideTarget.style.opacity = 0;
            $showTarget.style.opacity = 1;
        });
    });

    // $(".prev").on("click", function (e) {
    //     console.log('들어옴');
    //     e.preventDefault();

    //     // 이미지 현재의 위치
    //     var imgOn = $(".imgBox").find(".on").index(); //지도 인덱스 
    //     // 이미지 총 개수 
    //     var imgLen = $(".imgBox .img").length;
    //     console.log(imgOn) //지도 인덱스

    //     // imgBox안의 img 중 imgOn 번째의 on 클래스 삭제 
    //     $(".imgBox .img").eq(imgOn).removeClass("on");
    //     console.log("지도 div 클래스에 on 삭제 ")
    //     // imgBox안의 img 중 imgOn 번째 숨기기 
    //     $(".imgBox .img").eq(imgOn).css("opacity", 0);
    //     console.log("opacity 조정")
    //     //  이전의 위치로 돌아가야함으로

    //     imgOn = imgOn - 1;
    //     console.log(imgOn);

    //     if (imgOn < 0) {
    //         // 돌아가 위치가 -1일 경우 
    //         // 이미지의 마지막으로 돌아간다
    //         $(".imgBox .img").eq(imgLen - 1).css("opacity", 1);
    //         $(".imgBox .img").eq(imgLen - 1).addClass("on");
    //     } else {
    //         // 돌아갈 위치가 -1이 아닌 경우
    //         $(".imgBox .img").eq(imgOn).css("opacity", 1);
    //         $(".imgBox .img").eq(imgOn).addClass("on");
    //     }
    // });

    // $(".next").on("click", function (e) {
    //     e.preventDefault();
    //     // 위에 동일 
    //     console.log('클릭');
    //     var imgOn = $(".imgBox").find(".on").index(); //1번 인덱스
    //     var imgLen = $(".imgBox .img").length; //2개 

    //     // 위에 동일
    //     $(".imgBox .img").eq(imgOn).removeClass("on"); //1번 인덱스 삭제
    //     $(".imgBox .img").eq(imgOn).css("opacity", 0); //1번 투명도 
    //     console.log('슬라이드 이동');
    //     $('.prev').show();
    //     $('.next').hide();

    //     // 다음의 위치로 알아야 되기 때문에
    //     imgOn = imgOn + 1; //2번 

    //     if (imgOn === imgLen) { //2 === 2 
    //         // 다음의 위치가 총 개수보다 클 경우
    //         // 처음의 위치로 돌아간다
    //         $(".imgBox .img").eq(0).css("opacity", 1);
    //         $(".imgBox .img").eq(0).addClass("on");
    //     } else {
    //         // 다음 위치가 있는 경우 
    //         $(".imgBox .img").eq(imgOn).css("opacity", 1);
    //         $(".imgBox .img").eq(imgOn).addClass("on");
    //     }
    // });

    // /* 세종대왕박물관 */
    var mapContainer2 = document.getElementById('map2'), // 지도를 표시할 div 
        mapOption = {
            center: new kakao.maps.LatLng(37.5909928893989, 127.042703170101), // 지도의 중심좌표
            level: 3 // 지도의 확대 레벨
        };

    // 지도를 표시할 div와  지도 옵션으로  지도를 생성합니다
    var map2 = new kakao.maps.Map(mapContainer2, mapOption);
    var markerPosition2 = new kakao.maps.LatLng(37.5909928893989, 127.042703170101);
    var marker2 = new kakao.maps.Marker({
        position: markerPosition2
    });
    marker2.setMap(map2);

    var mapContainer3 = document.getElementById('map3'), // 지도를 표시할 div 
        mapOption3 = {
            center: new kakao.maps.LatLng(37.5507568507373, 126.982753574242), // 지도의 중심좌표
            level: 3 // 지도의 확대 레벨
        };

    var mapContainer3 = document.getElementById('map3'), // 지도를 표시할 div 
        mapOption3 = {
            center: new kakao.maps.LatLng(37.5507568507373, 126.982753574242), // 지도의 중심좌표
            level: 3 // 지도의 확대 레벨
        };

    var map3 = new kakao.maps.Map(mapContainer3, mapOption3); // 지도를 생성합니다

    // 마커가 표시될 위치입니다 
    var markerPosition3 = new kakao.maps.LatLng(37.5507568507373, 126.982753574242);

    // 마커를 생성합니다
    var marker3 = new kakao.maps.Marker({
        position: markerPosition3
    });

    // 마커가 지도 위에 표시되도록 설정합니다
    marker3.setMap(map3);

    var mapContainer4 = document.getElementById('map4'), // 지도를 표시할 div 
        mapOption4 = {
            center: new kakao.maps.LatLng(37.5165626106649, 127.1139342193), // 지도의 중심좌표
            level: 3 // 지도의 확대 레벨
        };

    var map4 = new kakao.maps.Map(mapContainer4, mapOption4); // 지도를 생성합니다

    // 마커가 표시될 위치입니다 
    var markerPosition4 = new kakao.maps.LatLng(37.5165626106649, 127.1139342193);

    // 마커를 생성합니다
    var marker4 = new kakao.maps.Marker({
        position: markerPosition4
    });

</script>

</html>